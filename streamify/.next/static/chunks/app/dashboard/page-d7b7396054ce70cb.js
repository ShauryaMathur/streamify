(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{26035:(e,s,t)=>{Promise.resolve().then(t.bind(t,87180))},57832:(e,s,t)=>{"use strict";t.d(s,{Pt:()=>i,yt:()=>r,Cn:()=>n});let a=(0,t(10851).UU)("https://xasddxeipcsewjpsvyic.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhhc2RkeGVpcGNzZXdqcHN2eWljIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU3OTA4MDcsImV4cCI6MjA2MTM2NjgwN30.sVq9EXd2OFQtUoyb7AQwBRikQjBWMlVcaIdjdemY8_8");async function i(e){let s=e.map(e=>({track_id:e,qty:1}));return a.rpc("f_checkout",{p_customer:1,p_items:s})}async function r(){let{data:e,error:s}=await a.rpc("f_sales_by_month");if(s)throw s;return e}async function n(){let{data:e,error:s}=await a.rpc("f_top_tracks_sales");if(s)throw s;return e}},87180:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(22342),i=t(57832),r=t(91769),n=t(83540),c=t(93504),d=t(94754),l=t(96025),o=t(16238),h=t(94517),u=t(21374),m=t(3401),x=t(58227);function y(){let{data:e=[],isLoading:s,isError:t}=(0,r.I)({queryKey:["salesByMonth"],queryFn:i.yt}),{data:y=[],isLoading:j,isError:p}=(0,r.I)({queryKey:["topTracks"],queryFn:i.Cn});return s||j?(0,a.jsx)("p",{children:"Loading chartsâ€¦"}):t||p?(0,a.jsx)("p",{className:"text-red-600",children:"Failed to load data."}):(0,a.jsxs)("div",{className:"space-y-12",children:[(0,a.jsxs)("div",{className:"bg-white p-4 shadow rounded-lg",children:[(0,a.jsx)("h2",{className:"mb-2 text-lg font-medium",children:"Revenue Over Time"}),(0,a.jsx)(n.u,{width:"100%",height:300,children:(0,a.jsxs)(c.b,{data:e,children:[(0,a.jsx)(d.d,{strokeDasharray:"3 3"}),(0,a.jsx)(l.W,{dataKey:"month"}),(0,a.jsx)(o.h,{}),(0,a.jsx)(h.m,{formatter:e=>"$".concat(e)}),(0,a.jsx)(u.N,{type:"monotone",dataKey:"revenue",stroke:"#6366F1",strokeWidth:2})]})})]}),(0,a.jsxs)("div",{className:"bg-white p-4 shadow rounded-lg",children:[(0,a.jsx)("h2",{className:"mb-2 text-lg font-medium",children:"Top 10 Tracks by Units Sold"}),(0,a.jsx)(n.u,{width:"100%",height:300,children:(0,a.jsxs)(m.E,{data:y,layout:"vertical",margin:{top:20,right:30,left:150,bottom:20},children:[(0,a.jsx)(d.d,{strokeDasharray:"3 3"}),(0,a.jsx)(l.W,{type:"number"}),(0,a.jsx)(o.h,{type:"category",dataKey:"name",width:150,interval:0,tick:{fontSize:12}}),(0,a.jsx)(h.m,{}),(0,a.jsx)(x.y,{dataKey:"units_sold",fill:"#6366F1"})]})})]})]})}function j(){return(0,a.jsxs)("div",{className:"mx-auto max-w-6xl p-6 space-y-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"\uD83D\uDCCA Sales Dashboard"}),(0,a.jsx)(y,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[851,967,814,708,451,358],()=>s(26035)),_N_E=e.O()}]);